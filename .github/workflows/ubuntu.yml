name: ubuntu-20.04

on: [ push, pull_request ]

jobs:
  clang13-api-latest:
    uses: ./.github/workflows/clang-ubuntu.yml
    with:
      on: ubuntu-20.04
      clang: 13
      cmake-flags: -DAPI=latest -DBUILD_ALL=ON -DENABLE_ALL=ON -DENABLE_ITT=OFF

  clang12:
    uses: ./.github/workflows/clang-ubuntu.yml
    with:
      on: ubuntu-20.04
      clang: 12
      cmake-flags: -DBUILD_ALL=ON -DENABLE_ALL=ON -DENABLE_ITT=OFF

  gcc10:
    uses: ./.github/workflows/gcc-ubuntu.yml
    with:
      on: ubuntu-20.04
      gcc: 10
      cmake-flags: -DBUILD_ALL=ON -DENABLE_ALL=ON -DENABLE_ITT=OFF ..

  gcc10-fastboot:
    uses: ./.github/workflows/gcc-ubuntu.yml
    with:
      on: ubuntu-20.04
      gcc: 10
      cmake-flags: -DMFX_CONFIG_FILE=$(pwd)/../builder/profiles/fastboot.cmake

